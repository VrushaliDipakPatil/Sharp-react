{"ast":null,"code":"import connectDB from '../../utils/dbConnect';\nimport Todo from '../../models/Todo';\nconnectDB();\n\nconst handler = async (req, res) => {\n  if (req.method === 'POST') {\n    const {\n      text\n    } = req.body;\n\n    try {\n      const todo = new Todo({\n        text\n      });\n      await todo.save();\n      res.status(201).json({\n        success: true,\n        data: todo\n      });\n    } catch (error) {\n      res.status(400).json({\n        success: false\n      });\n    }\n  } else if (req.method === 'GET') {\n    try {\n      const todos = await Todo.find();\n      res.status(200).json({\n        success: true,\n        data: todos\n      });\n    } catch (error) {\n      res.status(400).json({\n        success: false\n      });\n    }\n  }\n};\n\nexport default handler;","map":{"version":3,"sources":["F:/MY Projects/Cloned Projects/Sharpner-React/Sharp-react/pages/api/todo.js"],"names":["connectDB","Todo","handler","req","res","method","text","body","todo","save","status","json","success","data","error","todos","find"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,uBAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEAD,SAAS;;AAET,MAAME,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAM;AAAEC,MAAAA;AAAF,QAAWH,GAAG,CAACI,IAArB;;AAEA,QAAI;AACF,YAAMC,IAAI,GAAG,IAAIP,IAAJ,CAAS;AAAEK,QAAAA;AAAF,OAAT,CAAb;AACA,YAAME,IAAI,CAACC,IAAL,EAAN;AACAL,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,IAAI,EAAEL;AAAvB,OAArB;AACD,KAJD,CAIE,OAAOM,KAAP,EAAc;AACdV,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AACD;AACF,GAVD,MAUO,IAAIT,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AAC/B,QAAI;AACF,YAAMU,KAAK,GAAG,MAAMd,IAAI,CAACe,IAAL,EAApB;AACAZ,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,IAAI,EAAEE;AAAvB,OAArB;AACD,KAHD,CAGE,OAAOD,KAAP,EAAc;AACdV,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AACD;AACF;AACF,CAnBD;;AAqBA,eAAeV,OAAf","sourcesContent":["import connectDB from '../../utils/dbConnect';\r\nimport Todo from '../../models/Todo';\r\n\r\nconnectDB();\r\n\r\nconst handler = async (req, res) => {\r\n  if (req.method === 'POST') {\r\n    const { text } = req.body;\r\n\r\n    try {\r\n      const todo = new Todo({ text });\r\n      await todo.save();\r\n      res.status(201).json({ success: true, data: todo });\r\n    } catch (error) {\r\n      res.status(400).json({ success: false });\r\n    }\r\n  } else if (req.method === 'GET') {\r\n    try {\r\n      const todos = await Todo.find();\r\n      res.status(200).json({ success: true, data: todos });\r\n    } catch (error) {\r\n      res.status(400).json({ success: false });\r\n    }\r\n  }\r\n};\r\n\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}